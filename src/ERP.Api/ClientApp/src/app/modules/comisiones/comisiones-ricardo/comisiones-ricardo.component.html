<h4>Comisiones</h4>

<app-periodo-select 
[periodos]="periodos" 
[defaultValue]="defaultPeriodo" 
(periodoChange)="onPeriodoChange($event)"
></app-periodo-select>

<div class="container">
    <div class="table-container">
      <!-- Tu primera tabla de Angular Material aquí -->
      <ng-container *ngIf="this.dataSourceRicardo; else noItems" matSort matSortActive="cliente">
        <table mat-table [dataSource]="this.dataSourceRicardo" class="mat-elevation-z8" matSort matSortActive="cliente" >
          @for (column of columns; track column) {
            <ng-container [matColumnDef]="column.columnDef">
              <th mat-header-cell *matHeaderCellDef [ngStyle]="{ width: column.width }">
                {{column.header}}
              </th>
              <td mat-cell *matCellDef="let row">
                @if (column.isDate) {
                    {{ column.cell(row) | date: 'dd/MM/yyyy' }}
                  } @else if (column.isCurrency) {
                    {{ column.cell(row) | currency }}
                  } @else {
                    {{ column.cell(row) }}
                  }
              </td>
            </ng-container>
          }
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <!-- <tr mat-header-row *matHeaderRowDef="['sumRow']" class="sum-row"></tr> -->
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      
        </table>
      </ng-container>

      <!-- <ng-container matColumnDef="sumRow">
        <th mat-header-cell *matHeaderCellDef [attr.colspan]="displayedColumns.length">
          <div class="sum-container">
            <span>Total Utilidad: {{ totalUtilidad | currency }}</span>
            <span>Total IVA: {{ totalIva | currency }}</span>
            <span>Total ISR: {{ totalIsr | currency }}</span>
          </div>
        </th>
      </ng-container> -->


    
      <ng-template #noItems>
        <p>No hay datos para mostrar.</p>
      </ng-template>
    </div>
     <!--  <div class="table-container">
    Tu segunda tabla de Angular Material aquí 
   <table mat-table>
      Contenido de la tabla
      </table> 
    </div>-->
  </div>